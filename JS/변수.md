# 변수

아무리 복잡한 애플리케이션이라 해도 데이터를 입렵(input)받아 처리하고 그 결과를 출력(output) 하는 것이 전부이다.

**변수(variable)는 하나의 값을 저장하기 위해 확보한 메모리공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름이다.**

변수는 프로그래밍 언어에서 값을 저장하고 참조하는 메커니즘으로, 값의 위치를 가리키는 상징적인 이름이다.

변수에 값을 저장하는 것을 할당(assingnment.대입,저장)이라 하고, 변수에 저장된 값을 읽어 들이는 것을 참조(reference)라 한다.



## 변수 선언
변수 선언(variable declaration)이란 변수를 생성하는 것을 말한다.

**값을 저장하기 위한 메모리 공간을 확보(allocate)하고 변수 이름과 확보된 메모리 공간의 주소를 연결(name binding)해서 값을 저장할 수 있게 준비하는 것**이다. 메모리 공간은 확보가 해제(release)되기 이전까지는 누구도 확보된 메모리 공간을 사용할 수 없도록 보호되므로 안전하게 사용할 수 있다.

**변수를 사용하려면 반드시 선언이 필요하다.** 변수를 선언할 때는 var, let, const 키워드를 사용한다.


✔️ 자바스크립트 엔진의 변수 선언 2단계

- 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
- 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.

```js
let 변수명; //변수 선언
let num;

변수명 = 값; //변수의 초기화
num = 10;

let 변수명 = 값 // 변수의 선언 및 초기화
let num = 10;
```



✔️ 쉼표(,) 연산자를 통해 여러개의 변수를 동시에 선언하거나 초기화 할수 있다.

```js
let num1, str1; // 여러 변수를 선언
let num2 = 1, str2 = 'world'; // 여러 변수 선언과 동시에 초기화
num1 = 10, str1 = 'Hello'; // 여러 변수를 한번에 초기화
```

변수는 3단계에 걸쳐 생성된다.

- 1.선언 단계 : 변수 객체에 변수를 등록(스코프가 참조하는 대상)
- 2.초기화 단계 : 변수 객체에 등록된 변수를 메모리에 할당한다.
  - 2단계에서 변수는 undefined로 초기화 된다.
- 3. 할당 단계 : undefined로 초기화된 변수에 실제값을 할당한다.

---

✔️ 메모리 공간

- stack : 숫자만 들어감
- Heap : 메모리가 절대 사라지지 않음

---

✔️ var 를 사용하지 않는 이유

- 같은 이름의 변수를 선언할 수 있다.
- 지역 변수와 전역 변수의 구별이 모호하다.
- var 키워드 생략 허용
- 변수 호이스팅

---

✔️ use strict

- Strict mode를 사용한다는 의미
- 코드를 엄격하게 사용하도록 함

```js
'use strict';
...
```

---

### 상수(constant)

- 한번 선언된 상수는 다시 재정의 할 수 없으며, 값도 재할당 할 수 없음

```js
const num = 10;

num = 5; // 에러! 값을 재할당 할 수 없다.

const str;

str = 'Hello World'; // 에러! const 상수는 한번에 써야한다.
```



## 변수 선언의 실행 시점과 변수 호이스팅

- **변수 선언(선언 단계와 초기화 단계)은 소스코드가 순차적으로 실행되는 런타임 이전 단계에서 먼저 실행된다. **

- 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 변수 호이스팅(variable hoisting)이라 한다.

### 값의 재할당

이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것.

만약 값을 재할당할 수 없어서 변수에 저장된 값을 변경할수 없다면 변수가 아니라 상수(constant)이다.

### 변수 호이스팅

- 호이스팅 : 함수 안에 있는 선언들을 모두 끌어올려서 해당 함수 유효 범위의 최상단에 선언하는 것
- var 변수 선언과 함수선언문에서만 호이스팅이 일어난다.
  - let, const 변수 선언과 함수표현식에서는 호이스팅이 발생하지 않는다.

```js
console.log(foo); // undefined
var foo = 123;
console.log(foo); // 123
{
  var foo = 456;
}
console.log(foo); // 456

//var 키워드는 쓰지 않는 것이 좋다.
```



---

✔️ 가비지 콜렉터(grabage colloector)

애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되고 있지 않는 메모리를 해제하는 기능

---

✔️언매니지드 언어 와 매니지드 언어(unmanaged language & managed language)

C언어 같은 언매니지드 언어는 개발자가 명시적으로 메모리를 할당하고 해제하기 위해 저수준(low-level)메모리 제어 기능을 제공한다.
언매니지드 언어는 메모리 제어를 개발자가 주도할 수 있으므로 개발자 역량에 따라 최적의 성능을 확보할수 있지만 그 반대로 치명적 오류를 생산할 가능성이 있다.
자바스크립트같은 매니지드 언어는 메모리 할당 및 해제를 위한 메모리 관리 기능을 개발자에게 제어를 허용하지 않는다.
매니지드 언어는 개발자의 역량에 의존하는 부분이 낮아 생산성을 확보할 수 있다는 장점이 있지만 성능 면에서 어느 정도의 손실을 감수 할 수 밖에 없다.